<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [afterInit](#afterinit)
-   [beforePlay](#beforeplay)
-   [beforeChangeList](#beforechangelist)
-   [progressHandle](#progresshandle)
-   [songSrcHandle](#songsrchandle)
-   [constructor](#constructor)
-   [play](#play)
-   [pause](#pause)
-   [mute](#mute)
-   [next](#next)
-   [prev](#prev)
-   [setMode](#setmode)
-   [getMode](#getmode)
-   [togglePlay](#toggleplay)
-   [isPlaying](#isplaying)
-   [changeList](#changelist)
-   [addSong](#addsong)
-   [getCurrentTime](#getcurrenttime)
-   [setCurrentTime](#setcurrenttime)
-   [getDuration](#getduration)
-   [getPercent](#getpercent)
-   [setPercent](#setpercent)
-   [getInfo](#getinfo)
-   [getCurrentList](#getcurrentlist)
-   [getCurrentSong](#getcurrentsong)
-   [getSongNum](#getsongnum)
-   [getDisplayList](#getdisplaylist)
-   [getList](#getlist)
-   [getLrc](#getlrc)
-   [updateLrc](#updatelrc)
-   [on](#on)
-   [handle](#handle)
-   [onAutoPlayError](#onautoplayerror)
-   [getBasic](#getbasic)

## afterInit

初始化结束后触发，用于绑定事件或处理函数

Type: [Function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)

Returns **[Boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 返回false取消自动播放

## beforePlay

每首歌播放前触发

Type: [Function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)

Returns **[Boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 返回false取消播放

## beforeChangeList

每次更换列表前触发

Type: [Function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)

**Parameters**

-   `list` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 切换的目标列表
-   `oldList` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 现在显示的列表

## progressHandle

进度条样式处理函数（包括缓冲条和进度条），用于主题中由canvas或者其他复杂的进度条处理<br>
设置此处理函数后将不会自动更新进度条

Type: [Function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)

**Parameters**

-   `progress` **jQuery** 进度条元素
-   `percent` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 进度百分比
-   `type` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** buffer代表缓冲 play代表播放

## songSrcHandle

歌曲播放地址处理函数，用于处理某些歌曲的根据事件变化的播放key<br>
如果有这个处理函数那么默认歌曲链接需要处理，不需要处理的歌曲请将needSrcHandle属性设置为false<br>
或者可以直接给列表设置，列表中如果有单独设置为true的不受列表影响

Type: [Function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)

**Parameters**

-   `歌曲原地址` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
-   `歌曲对象` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

Returns **any** 歌曲实际播放地址

## constructor

构造函数

**Parameters**

-   `config` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `config.containerSelector` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** WMPlayer的容器选择器，可设置多个
    -   `config.songList` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)** 歌曲播放列表
    -   `config.listTpl` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 列表输出模板，可插入模板变量
    -   `config.defaultImg` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** 封面图片加载失败时显示的图片
    -   `config.defaultText` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** 模板中未定义时的默认文字
    -   `config.currentListClass` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** 当前播放列表的class
    -   `config.currentSongClass` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** 当前播放歌曲的class，将会添加到具有data-wm-current-song-class属性的元素上
    -   `config.currentLrcClass` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** 当前播放歌词的class
    -   `config.progressCSSPrototype` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** 修改进度条的CSS属性，只支持width或height，当绑定[progressHandle](#progresshandle)后此配置不再起作用
    -   `config.autoPlay` **[Boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 是否自动播放 (optional, default `true`)
-   `callback` **[afterInit](#afterinit)?** 程序初始化结束后用于绑定事件和处理函数的回调

## play

-   **See: 注：此函数有三种传参形式<br>
    1\. 不传任何参数：代表播放已暂停的歌曲，如果正在播放就什么也不做<br>
    2\. 只传一个参数：代表播放当前列表的第list首歌<br>
    3\. 两个参数都传：代表播放第list个列表的第song首歌**

播放

**Parameters**

-   `list` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)?** 列表序号
-   `song` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)?** 歌曲序号

## pause

暂停

## mute

切换静音

## next

下一首（如果当前是最后一首就播放第一首）

## prev

上一首（如果当前是第一首就播放最后一首）

## setMode

设置播放模式

**Parameters**

-   `mode` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 0->顺序播放 1->列表循环 2->单曲循环 3->随机播放

## getMode

获取播放模式

Returns **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

## togglePlay

切换播放状态

## isPlaying

获取是否正在播放

Returns **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 

## changeList

切换当前显示的列表

**Parameters**

-   `list`  

## addSong

向列表中添加歌曲

**Parameters**

-   `data` **([object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object) \| [Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array))** 歌曲数据，格式同配置中的songList，如果是数组会自动遍历
-   `list` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 添加到列表的序号 (optional, default `当前播放列表`)
-   `index` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)?** 添加到的索引，默认为最后一个 (optional, default `this.getSongNum(list)`)

## getCurrentTime

获取当前播放时间（单位：秒）

Returns **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

## setCurrentTime

设置当前时间

**Parameters**

-   `time`  

## getDuration

获取歌曲总长（单位：秒）

Returns **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

## getPercent

获取当前播放百分比（0-100）

Returns **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

## setPercent

设置播放进度

**Parameters**

-   `percent`  

## getInfo

获取指定的歌曲信息

**Parameters**

-   `list` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 列表序号 (optional, default `当前播放列表`)
-   `song` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 歌曲序号 (optional, default `当前播放歌曲`)

Returns **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

## getCurrentList

获取当前正在播放的列表

**Parameters**

-   `info` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** true返回完整列表，false返回序号 (optional, default `false`)

Returns **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

## getCurrentSong

获取当前播放歌曲的信息

**Parameters**

-   `info` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** true返回完整信息，false返回序号 (optional, default `false`)

Returns **([object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object) | int)** 

## getSongNum

获取列表的歌曲数目

**Parameters**

-   `list` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)**  (optional, default `当前播放列表`)

Returns **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

## getDisplayList

获取当前显示的列表

**Parameters**

-   `info` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** true返回完整列表，false返回序号 (optional, default `false`)

Returns **([number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number) \| [Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object))** 

## getList

返回指定列表序号的信息

**Parameters**

-   `list` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 列表序号 (optional, default `当前播放列表`)

Returns **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)** 

## getLrc

通过传入的时间返回指定时间的歌词

**Parameters**

-   `time` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 不传代表当前时间，单位毫秒 (optional, default `当前时间`)
-   `info` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** true返回歌词字符串，false返回歌词开始时间（单位：毫秒） (optional, default `true`)

## updateLrc

更新歌词显示

## on

绑定事件

**Parameters**

-   `name` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 事件名
-   `cb` **[Function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)** 回调

Returns **WMPlayer** 

## handle

绑定处理函数

**Parameters**

-   `name`  
-   `cb`  

Returns **WMPlayer** 

## onAutoPlayError

苹果及安卓Chrome由于权限问题无法正常自动播放时会触发此事件

Type: [Function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)

**Parameters**

-   `error` **[Error](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Error)** 错误信息

## getBasic

寻找公用数据

**Parameters**

-   `list`  

Returns **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 
